<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Chaining Example</title>
</head>
<body>
    <input type="number" id="ip" placeholder="Enter a number" />
    <button id="btn">Calculate</button>
    <div id="output"></div>

    <script>
        document.getElementById("btn").addEventListener("click", () => {
            const inputNumber = parseFloat(document.getElementById("ip").value);

            if (isNaN(inputNumber)) {
                document.getElementById("output").textContent = "Please enter a valid number.";
                return;
            }

            // Step 1: Create a promise that resolves with the input number
            new Promise((resolve) => {
                setTimeout(() => {
                    resolve(inputNumber);
                    document.getElementById("output").textContent = `Result: ${inputNumber}`;
                }, 2000);
            })
            .then((number) => {
                // Step 2: Multiply the number by 2
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const result = number * 2;
                        document.getElementById("output").textContent = `Result: ${result}`;
                        resolve(result);
                    }, 1000);
                });
            })
            .then((number) => {
                // Step 3: Subtract 3 from the number
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const result = number - 3;
                        document.getElementById("output").textContent = `Result: ${result}`;
                        resolve(result);
                    }, 1000);
                });
            })
            .then((number) => {
                // Step 4: Divide the number by 2
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const result = number / 2;
                        document.getElementById("output").textContent = `Result: ${result}`;
                        resolve(result);
                    }, 1000);
                });
            })
            .then((number) => {
                // Step 5: Add 10 to the number
                return new Promise((resolve) => {
                    setTimeout(() => {
                        const result = number + 10;
                        document.getElementById("output").textContent = `Result: ${result}`;
                        resolve(result);
                    }, 1000);
                });
            })
            .then((finalResult) => {
                // Final output
                document.getElementById("output").textContent = `Final Result: ${finalResult}`;
            })
            .catch((error) => {
                document.getElementById("output").textContent = `Error: ${error.message}`;
            });
        });
    </script>
</body>
</html>
